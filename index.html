<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universe Connected: The Game</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="manifest" href="/manifest.json">
  <style>
    /* Basic setup */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      overflow: hidden;
      background-color: #000;
      color: #fff;
    }
    
    /* Custom Glow Effect */
    .glow-text {
      text-shadow: 0 0 5px rgba(173, 216, 230, 0.6), 0 0 10px rgba(173, 216, 230, 0.5), 0 0 15px rgba(144, 238, 144, 0.4);
    }

    /* Splash Screen Animations */
    .splash-screen {
      background: radial-gradient(ellipse at center, #0a0a1a 0%, #000000 70%);
    }

    @keyframes fadeInSlow {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in-slow {
      animation: fadeInSlow 3s ease-out forwards;
    }
    
    /* Particle animations for splash and background */
    .particle-container {
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      width: var(--size);
      height: var(--size);
      animation: move var(--duration) var(--delay) linear infinite;
    }

    .particle-neutral { background-color: rgba(200, 200, 255, 0.3); }

    @keyframes move {
      from {
        transform: translate(var(--x-start), var(--y-start));
        opacity: 0.8;
      }
      to {
        transform: translate(var(--x-end), var(--y-end));
        opacity: 0;
      }
    }

    /* Simulation View */
    .simulation-container {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      cursor: grab;
    }
    .simulation-container:active { cursor: grabbing; }
    
    .world-container {
      position: absolute;
      will-change: transform;
    }

    .connections-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 1px;
        height: 1px;
        overflow: visible;
        pointer-events: none;
    }
    
    .node-image-container {
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      /* Adjust for centering */
      margin-left: -50%;
      margin-top: -50%;
    }
    
    .node-image {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      animation: spin 60s linear infinite;
    }
    
    .node-image.star {
      box-shadow: 0 0 20px #ffcc00, 0 0 40px #ffaa00, inset 0 0 10px #ffffff;
      animation: pulse 4s ease-in-out infinite, spin 60s linear infinite;
    }
    .node-image.hasLife {
      box-shadow: 0 0 15px #00ffcc, 0 0 30px #00ccff;
    }
    .node-placeholder {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: radial-gradient(circle, #555, #222);
    }

    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

    /* Tutorial Highlighter */
    .tutorial-highlight {
      position: fixed;
      border: 3px solid #00f6ff;
      border-radius: 8px;
      box-shadow: 0 0 15px #00f6ff;
      transition: all 0.3s ease-in-out;
      pointer-events: none;
      z-index: 100;
    }

    .tutorial-box {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(17, 24, 39, 0.9);
      border: 1px solid #4f46e5;
      padding: 20px;
      border-radius: 8px;
      max-width: 500px;
      z-index: 101;
      box-shadow: 0 0 20px rgba(79, 70, 229, 0.5);
    }
    
    /* Milestone Visuals */
    .milestone-container {
      position: fixed;
      inset: 0;
      z-index: 200;
      animation: fadeInMilestone 1s ease-out, fadeOutMilestone 1s 5s ease-in forwards;
      pointer-events: none;
    }
    .milestone-scene {
      width: 100%; height: 100%;
      position: relative;
      overflow: hidden;
    }
    .milestone-title {
      position: absolute;
      bottom: 10%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2.5rem;
      text-align: center;
      color: white;
      text-shadow: 0 0 10px black, 0 0 20px black;
      z-index: 10;
    }

    @keyframes fadeInMilestone { from { opacity: 0; } to { opacity: 1; } }
    @keyframes fadeOutMilestone { from { opacity: 1; } to { opacity: 0; } }
    
    /* Spark of Life specific */
    .deep-sea-bg {
      background: linear-gradient(to top, #020412, #0a143a, #1a3a6e);
    }
    .vent-plume {
      position: absolute;
      bottom: -100px;
      width: 20px;
      height: 120%;
      background: linear-gradient(to top, rgba(0,0,0,0.8), rgba(20,20,30,0.4), transparent);
      filter: blur(15px);
      transform: skewX(-10deg);
      animation: plume-sway 10s ease-in-out infinite alternate;
    }
    @keyframes plume-sway {
      from { transform: skewX(-15deg) scaleY(1); }
      to { transform: skewX(15deg) scaleY(1.05); }
    }
    .bubble {
      position: absolute;
      bottom: -20px;
      background-color: rgba(150, 200, 255, 0.2);
      border-radius: 50%;
      animation-name: rise;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }
    @keyframes rise {
      0% { transform: translateY(0) translateX(0); }
      100% { transform: translateY(-120vh) translateX(var(--sway)); }
    }

    /* Panspermia specific */
    .starfield { background: #000; }
    .comet {
        position: absolute;
        left: -10%;
        width: 3px; height: 3px;
        background: white;
        border-radius: 50%;
        box-shadow: 0 0 10px 2px #fff, 0 0 20px 4px #0ff;
        animation: shoot 3s linear infinite;
    }
    .comet::before {
        content: '';
        position: absolute;
        width: 150px; height: 2px;
        background: linear-gradient(to left, transparent, #fff);
        transform: translateY(-50%) rotate(-30deg);
        transform-origin: right;
    }
    @keyframes shoot {
        from { transform: translate(0, 0); }
        to { transform: translate(120vw, 40vh); }
    }

    /* Mycorrhizal Networks specific */
    .earthy {
      background: radial-gradient(ellipse at bottom, #4a2e1a, #1a0e05);
    }
    .network-line {
      position: absolute;
      top: 50%; left: 50%;
      width: 2px;
      height: 200%;
      background: linear-gradient(to bottom, transparent, #9f7aea, transparent);
      opacity: 0.6;
      animation: grow 4s ease-out forwards;
    }
    @keyframes grow {
        from { transform: scaleY(0) rotate(var(--angle, 0deg)); opacity: 0; }
        to { transform: scaleY(1) rotate(var(--angle, 0deg)); opacity: 0.6; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="importmap">
  {
    "imports": {
      "react": "https://aistudiocdn.com/react@^19.1.1",
      "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
      "react/": "https://aistudiocdn.com/react@^19.1.1/",
      "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0"
    }
  }
  </script>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
